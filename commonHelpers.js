import"./assets/modulepreload-polyfill-3cfb730f.js";/* empty css                      */import{f as m,i as f}from"./assets/vendor-77e16229.js";const s=document.querySelector("[data-start]"),c=document.querySelector("#datetime-picker"),S=document.querySelector("[data-days]"),h=document.querySelector("[data-hours]"),D=document.querySelector("[data-minutes]"),g=document.querySelector("[data-seconds]");let n,i;s.disabled=!0;const p=()=>{m(c,{enableTime:!0,time_24hr:!0,defaultDate:new Date,minuteIncrement:1,onClose(a){const o=a[0];o<new Date?f.error({title:"Error",message:"Please choose a date in the future"}):(n=o,localStorage.setItem("userSelectedDate",n.toISOString())),s.disabled=o<new Date}});const t=localStorage.getItem("userSelectedDate");t&&(n=new Date(t),c._flatpickr.setDate(n))};p();const I=()=>new Promise((e,t)=>{setTimeout(()=>{n&&n.getTime()>new Date().getTime()?e():t()},0)});s.addEventListener("click",()=>{I().then(()=>{s.disabled=!0,c.disabled=!0,localStorage.setItem("timerRunning",!0),i=setInterval(()=>{const e=Date.now(),t=n-e;if(t<=0)clearInterval(i),l({days:"00",hours:"00",mins:"00",secs:"00"});else{const a=d(t);l(a)}},1e3)}).catch(()=>{s.disabled=!0})});const y=localStorage.getItem("timerRunning");y&&(s.disabled=!0,c.disabled=!0,i=setInterval(()=>{const e=Date.now(),t=n-e;if(t<=0)clearInterval(i),l({days:"00",hours:"00",mins:"00",secs:"00"});else{const a=d(t);l(a)}},1e3));function d(e){const t=r(Math.max(0,Math.floor(e/864e5))),a=r(Math.max(0,Math.floor(e%(1e3*60*60*24)/(1e3*60*60)))),o=r(Math.max(0,Math.floor(e%(1e3*60*60)/(1e3*60)))),u=r(Math.max(0,Math.floor(e%(1e3*60)/1e3)));return{days:t,hours:a,mins:o,secs:u}}function r(e){return String(e).padStart(2,"0")}function l({days:e,hours:t,mins:a,secs:o}){S.textContent=`${e}`,h.textContent=`${t}`,D.textContent=`${a}`,g.textContent=`${o}`}
//# sourceMappingURL=commonHelpers.js.map
