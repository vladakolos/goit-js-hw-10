import"./assets/modulepreload-polyfill-3cfb730f.js";/* empty css                      */import{f as h,i as y}from"./assets/vendor-77e16229.js";const r=document.querySelector("[data-start]"),c=document.querySelector("#datetime-picker"),D=document.querySelector("[data-days]"),g=document.querySelector("[data-hours]"),I=document.querySelector("[data-minutes]"),p=document.querySelector("[data-seconds]");let o,i;r.disabled=!0;const T=()=>{h(c,{enableTime:!0,time_24hr:!0,defaultDate:new Date,minuteIncrement:1,onClose(n){const a=n[0];a<new Date?y.error({title:"Error",message:"Please choose a date in the future"}):(o=a,localStorage.setItem("userSelectedDate",o.toISOString())),r.disabled=a<new Date}});const t=localStorage.getItem("userSelectedDate");t&&(o=new Date(t),c._flatpickr.setDate(o))},u=e=>{const l=Math.floor(e/864e5),m=Math.floor(e%864e5/36e5),f=Math.floor(e%864e5%36e5/6e4),S=Math.floor(e%864e5%36e5%6e4/1e3);return{days:l,hours:m,mins:f,secs:S}};T();const b=()=>new Promise((e,t)=>{setTimeout(()=>{o&&o.getTime()>new Date().getTime()?e():t()},0)});r.addEventListener("click",()=>{b().then(()=>{r.disabled=!0,c.disabled=!0,localStorage.setItem("timerRunning",!0),i=setInterval(()=>{const e=Date.now(),t=o-e;if(t<=0)clearInterval(i),d({days:"00",hours:"00",mins:"00",secs:"00"});else{const n=u(t);d(n)}},1e3)}).catch(()=>{r.disabled=!0})});const v=localStorage.getItem("timerRunning");v&&(r.disabled=!0,c.disabled=!0,i=setInterval(()=>{const e=Date.now(),t=o-e;if(t<=0)clearInterval(i),d({days:"00",hours:"00",mins:"00",secs:"00"});else{const n=u(t);d(n)}},0));function d({days:e,hours:t,mins:n,secs:a}){D.textContent=s(e),g.textContent=s(t),I.textContent=s(n),p.textContent=s(a)}function s(e){return String(e).padStart(2,"0")}
//# sourceMappingURL=commonHelpers.js.map
